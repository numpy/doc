
<!DOCTYPE html>


<html lang="en" data-content_root="../../" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>NpyString API &#8212; NumPy v2.0 Manual</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="../../_static/numpy.css?v=f033eccb" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="../../_static/documentation_options.js?v=db988ed8"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'reference/c-api/strings';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.3';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://numpy.org/doc/_static/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '2.0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="NumPy core math library" href="coremath.html" />
    <link rel="prev" title="Generalized universal function API" href="generalized-ufuncs.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Jun 16, 2024"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
    
    <img src="../../_static/numpylogo.svg" class="logo__image only-light" alt="NumPy v2.0 Manual - Home"/>
    <script>document.write(`<img src="../../_static/numpylogo_dark.svg" class="logo__image only-dark" alt="NumPy v2.0 Manual - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../user/index.html">
    User Guide
  </a>
</li>


<li class="nav-item pst-header-nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    API reference
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../building/index.html">
    Building from source
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../dev/index.html">
    Development
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../release.html">
    Release notes
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-external" href="https://numpy.org/numpy-tutorials/">
    Learn
  </a>
</li>

            <li class="nav-item dropdown pst-header-nav-item">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class="nav-item ">
  <a class="nav-link dropdown-item nav-external" href="https://numpy.org/neps">
    NEPs
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/numpy/numpy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../user/index.html">
    User Guide
  </a>
</li>


<li class="nav-item pst-header-nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    API reference
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../building/index.html">
    Building from source
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../dev/index.html">
    Development
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-internal" href="../../release.html">
    Release notes
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-external" href="https://numpy.org/numpy-tutorials/">
    Learn
  </a>
</li>


<li class="nav-item pst-header-nav-item">
  <a class="nav-link nav-external" href="https://numpy.org/neps">
    NEPs
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/numpy/numpy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../module_structure.html">NumPy’s module structure</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../arrays.html">Array objects</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../ufuncs.html">Universal functions (<code class="xref py py-class docutils literal notranslate"><span class="pre">ufunc</span></code>)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../routines.html">Routines and objects by topic</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../typing.html">Typing (<code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy.typing</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distutils.html">Packaging (<code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy.distutils</span></code>)</a></li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">NumPy C-API</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="types-and-structures.html">Python types and C-structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">System configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="dtype.html">Data type API</a></li>
<li class="toctree-l2"><a class="reference internal" href="array.html">Array API</a></li>
<li class="toctree-l2"><a class="reference internal" href="iterator.html">Array iterator API</a></li>
<li class="toctree-l2"><a class="reference internal" href="ufunc.html">ufunc API</a></li>
<li class="toctree-l2"><a class="reference internal" href="generalized-ufuncs.html">Generalized universal function API</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">NpyString API</a></li>
<li class="toctree-l2"><a class="reference internal" href="coremath.html">NumPy core math library</a></li>
<li class="toctree-l2"><a class="reference internal" href="datetimes.html">Datetime API</a></li>
<li class="toctree-l2"><a class="reference internal" href="deprecations.html">C API deprecations</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_memory.html">Memory management in NumPy</a></li>
</ul>
</details></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../array_api.html">Array API standard compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simd/index.html">CPU/SIMD optimizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../global_state.html">Global state</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">NumPy security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distutils_status_migration.html">Status of <code class="docutils literal notranslate"><span class="pre">numpy.distutils</span></code> and migration advice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distutils_guide.html"><code class="docutils literal notranslate"><span class="pre">numpy.distutils</span></code> user guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../swig.html">NumPy and SWIG</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">NumPy reference</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">NumPy C-API</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">NpyString API</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="npystring-api">
<h1>NpyString API<a class="headerlink" href="#npystring-api" title="Link to this heading">#</a></h1>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<p>This API allows access to the UTF-8 string data stored in NumPy StringDType
arrays. See <a class="reference external" href="https://numpy.org/neps/nep-0055-string_dtype.html">NEP-55</a> for
more in-depth details into the design of StringDType.</p>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">#</a></h2>
<section id="loading-a-string">
<h3>Loading a String<a class="headerlink" href="#loading-a-string" title="Link to this heading">#</a></h3>
<p>Say we are writing a ufunc implementation for <code class="docutils literal notranslate"><span class="pre">StringDType</span></code>. If we are given
<code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*buf</span></code> pointer to the beginning of a <code class="docutils literal notranslate"><span class="pre">StringDType</span></code> array entry, and a
<code class="docutils literal notranslate"><span class="pre">PyArray_Descr</span> <span class="pre">*</span></code> pointer to the array descriptor, one can
access the underlying string data like so:</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">npy_string_allocator</span><span class="w"> </span><span class="o">*</span><span class="n">allocator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NpyString_acquire_allocator</span><span class="p">(</span>
<span class="w">        </span><span class="p">(</span><span class="n">PyArray_StringDTypeObject</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">descr</span><span class="p">);</span>

<span class="n">npy_static_string</span><span class="w"> </span><span class="n">sdata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">};</span>
<span class="n">npy_packed_static_string</span><span class="w"> </span><span class="o">*</span><span class="n">packed_string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">npy_packed_static_string</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">is_null</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="n">is_null</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NpyString_load</span><span class="p">(</span><span class="n">allocator</span><span class="p">,</span><span class="w"> </span><span class="n">packed_string</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sdata</span><span class="p">);</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_null</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// failed to load string, set error</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// handle missing string</span>
<span class="w">    </span><span class="c1">// sdata-&gt;buf is NULL</span>
<span class="w">    </span><span class="c1">// sdata-&gt;size is 0</span>
<span class="p">}</span>
<span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// sdata-&gt;buf is a pointer to the beginning of a string</span>
<span class="w">    </span><span class="c1">// sdata-&gt;size is the size of the string</span>
<span class="p">}</span>
<span class="n">NpyString_release_allocator</span><span class="p">(</span><span class="n">allocator</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="packing-a-string">
<h3>Packing a String<a class="headerlink" href="#packing-a-string" title="Link to this heading">#</a></h3>
<p>This example shows how to pack a new string entry into an array:</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello world&quot;</span><span class="p">;</span>
<span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">11</span><span class="p">;</span>
<span class="n">npy_packed_static_string</span><span class="w"> </span><span class="o">*</span><span class="n">packed_string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">npy_packed_static_string</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">buf</span><span class="p">;</span>

<span class="n">npy_string_allocator</span><span class="w"> </span><span class="o">*</span><span class="n">allocator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NpyString_acquire_allocator</span><span class="p">(</span>
<span class="w">        </span><span class="p">(</span><span class="n">PyArray_StringDTypeObject</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">descr</span><span class="p">);</span>

<span class="c1">// copy contents of str into packed_string</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">NpyString_pack</span><span class="p">(</span><span class="n">allocator</span><span class="p">,</span><span class="w"> </span><span class="n">packed_string</span><span class="p">,</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// string packing failed, set error</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// packed_string contains a copy of &quot;Hello world&quot;</span>

<span class="n">NpyString_release_allocator</span><span class="p">(</span><span class="n">allocator</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="types">
<h2>Types<a class="headerlink" href="#types" title="Link to this heading">#</a></h2>
<dl class="c type">
<dt class="sig sig-object c" id="c.npy_packed_static_string">
<span class="k"><span class="pre">type</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">npy_packed_static_string</span></span></span><a class="headerlink" href="#c.npy_packed_static_string" title="Link to this definition">#</a><br /></dt>
<dd><p>An opaque struct that represents “packed” encoded strings. Individual
entries in array buffers are instances of this struct. Direct access
to the data in the struct is undefined and future version of the library may
change the packed representation of strings.</p>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.npy_static_string">
<span class="k"><span class="pre">type</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">npy_static_string</span></span></span><a class="headerlink" href="#c.npy_static_string" title="Link to this definition">#</a><br /></dt>
<dd><p>An unpacked string allowing access to the UTF-8 string data.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">npy_unpacked_static_string</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">npy_static_string</span><span class="p">;</span>
</pre></div>
</div>
<dl class="c member">
<dt class="sig sig-object c" id="c.npy_static_string.size">
<span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">size</span></span></span><a class="headerlink" href="#c.npy_static_string.size" title="Link to this definition">#</a><br /></dt>
<dd><p>The size of the string, in bytes.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.npy_static_string.buf">
<span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">buf</span></span></span><a class="headerlink" href="#c.npy_static_string.buf" title="Link to this definition">#</a><br /></dt>
<dd><p>The string buffer. Holds UTF-8-encoded bytes. Does not currently end in
a null string but we may decide to add null termination in the
future, so do not rely on the presence or absence of null-termination.</p>
<p>Note that this is a <code class="docutils literal notranslate"><span class="pre">const</span></code> buffer. If you want to alter an
entry in an array, you should create a new string and pack it
into the array entry.</p>
</dd></dl>

</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.npy_string_allocator">
<span class="k"><span class="pre">type</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">npy_string_allocator</span></span></span><a class="headerlink" href="#c.npy_string_allocator" title="Link to this definition">#</a><br /></dt>
<dd><p>An opaque pointer to an object that handles string allocation.
Before using the allocator, you must acquire the allocator lock and release
the lock after you are done interacting with strings managed by the
allocator.</p>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.PyArray_StringDTypeObject">
<span class="k"><span class="pre">type</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyArray_StringDTypeObject</span></span></span><a class="headerlink" href="#c.PyArray_StringDTypeObject" title="Link to this definition">#</a><br /></dt>
<dd><p>The C struct backing instances of StringDType in Python. Attributes store
the settings the object was created with, an instance of
<code class="docutils literal notranslate"><span class="pre">npy_string_allocator</span></code> that manages string allocations for arrays
associated with the DType instance, and several attributes caching
information about the missing string object that is commonly needed in cast
and ufunc loop implementations.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">PyArray_Descr</span><span class="w"> </span><span class="n">base</span><span class="p">;</span>
<span class="w">    </span><span class="n">PyObject</span><span class="w"> </span><span class="o">*</span><span class="n">na_object</span><span class="p">;</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">coerce</span><span class="p">;</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">has_nan_na</span><span class="p">;</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">has_string_na</span><span class="p">;</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">array_owned</span><span class="p">;</span>
<span class="w">    </span><span class="n">npy_static_string</span><span class="w"> </span><span class="n">default_string</span><span class="p">;</span>
<span class="w">    </span><span class="n">npy_static_string</span><span class="w"> </span><span class="n">na_name</span><span class="p">;</span>
<span class="w">    </span><span class="n">npy_string_allocator</span><span class="w"> </span><span class="o">*</span><span class="n">allocator</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">PyArray_StringDTypeObject</span><span class="p">;</span>
</pre></div>
</div>
<dl class="c member">
<dt class="sig sig-object c" id="c.PyArray_StringDTypeObject.base">
<a class="reference internal" href="types-and-structures.html#c.PyArray_Descr" title="PyArray_Descr"><span class="n"><span class="pre">PyArray_Descr</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">base</span></span></span><a class="headerlink" href="#c.PyArray_StringDTypeObject.base" title="Link to this definition">#</a><br /></dt>
<dd><p>The base object. Use this member to access fields common to all
descriptor objects.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyArray_StringDTypeObject.na_object">
<a class="reference external" href="https://docs.python.org/3/c-api/structures.html#c.PyObject" title="(in Python v3.12)"><span class="n"><span class="pre">PyObject</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">na_object</span></span></span><a class="headerlink" href="#c.PyArray_StringDTypeObject.na_object" title="Link to this definition">#</a><br /></dt>
<dd><p>A reference to the object representing the null value. If there is no
null value (the default) this will be NULL.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyArray_StringDTypeObject.coerce">
<span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">coerce</span></span></span><a class="headerlink" href="#c.PyArray_StringDTypeObject.coerce" title="Link to this definition">#</a><br /></dt>
<dd><p>1 if string coercion is enabled, 0 otherwise.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyArray_StringDTypeObject.has_nan_na">
<span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">has_nan_na</span></span></span><a class="headerlink" href="#c.PyArray_StringDTypeObject.has_nan_na" title="Link to this definition">#</a><br /></dt>
<dd><p>1 if the missing string object (if any) is NaN-like, 0 otherwise.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyArray_StringDTypeObject.has_string_na">
<span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">has_string_na</span></span></span><a class="headerlink" href="#c.PyArray_StringDTypeObject.has_string_na" title="Link to this definition">#</a><br /></dt>
<dd><p>1 if the missing string object (if any) is a string, 0 otherwise.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyArray_StringDTypeObject.array_owned">
<span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">array_owned</span></span></span><a class="headerlink" href="#c.PyArray_StringDTypeObject.array_owned" title="Link to this definition">#</a><br /></dt>
<dd><p>1 if an array owns the StringDType instance, 0 otherwise.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyArray_StringDTypeObject.default_string">
<a class="reference internal" href="#c.npy_static_string" title="npy_static_string"><span class="n"><span class="pre">npy_static_string</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">default_string</span></span></span><a class="headerlink" href="#c.PyArray_StringDTypeObject.default_string" title="Link to this definition">#</a><br /></dt>
<dd><p>The default string to use in operations. If the missing string object
is a string, this will contain the string data for the missing string.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyArray_StringDTypeObject.na_name">
<a class="reference internal" href="#c.npy_static_string" title="npy_static_string"><span class="n"><span class="pre">npy_static_string</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">na_name</span></span></span><a class="headerlink" href="#c.PyArray_StringDTypeObject.na_name" title="Link to this definition">#</a><br /></dt>
<dd><p>The name of the missing string object, if any. An empty string
otherwise.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyArray_StringDTypeObject.allocator">
<a class="reference internal" href="#c.npy_string_allocator" title="npy_string_allocator"><span class="n"><span class="pre">npy_string_allocator</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">allocator</span></span></span><a class="headerlink" href="#c.PyArray_StringDTypeObject.allocator" title="Link to this definition">#</a><br /></dt>
<dd><p>The allocator instance associated with the array that owns this
descriptor instance. The allocator should only be directly accessed
after acquiring the allocator_lock and the lock should be released
immediately after the allocator is no longer needed</p>
</dd></dl>

</dd></dl>

</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading">#</a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.NpyString_acquire_allocator">
<a class="reference internal" href="#c.npy_string_allocator" title="npy_string_allocator"><span class="n"><span class="pre">npy_string_allocator</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">NpyString_acquire_allocator</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#c.PyArray_StringDTypeObject" title="PyArray_StringDTypeObject"><span class="n"><span class="pre">PyArray_StringDTypeObject</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">descr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.NpyString_acquire_allocator" title="Link to this definition">#</a><br /></dt>
<dd><p>Acquire the mutex locking the allocator attached to
<code class="docutils literal notranslate"><span class="pre">descr</span></code>. <code class="docutils literal notranslate"><span class="pre">NpyString_release_allocator</span></code> must be called on the allocator
returned by this function exactly once. Note that functions requiring the
GIL should not be called while the allocator mutex is held, as doing so may
cause deadlocks.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.NpyString_acquire_allocators">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NpyString_acquire_allocators</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">n_descriptors</span></span>, <a class="reference internal" href="types-and-structures.html#c.PyArray_Descr" title="PyArray_Descr"><span class="n"><span class="pre">PyArray_Descr</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">descrs</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span>, <a class="reference internal" href="#c.npy_string_allocator" title="npy_string_allocator"><span class="n"><span class="pre">npy_string_allocator</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">allocators</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.NpyString_acquire_allocators" title="Link to this definition">#</a><br /></dt>
<dd><p>Simultaneously acquire the mutexes locking the allocators attached to
multiple descriptors. Writes a pointer to the associated allocator in the
allocators array for each StringDType descriptor in the array. If any of
the descriptors are not StringDType instances, write NULL to the allocators
array for that entry.</p>
<p><code class="docutils literal notranslate"><span class="pre">n_descriptors</span></code> is the number of descriptors in the descrs array that
should be examined. Any descriptor after <code class="docutils literal notranslate"><span class="pre">n_descriptors</span></code> elements is
ignored. A buffer overflow will happen if the <code class="docutils literal notranslate"><span class="pre">descrs</span></code> array does not
contain n_descriptors elements.</p>
<p>If pointers to the same descriptor are passed multiple times, only acquires
the allocator mutex once but sets identical allocator pointers appropriately.
The allocator mutexes must be released after this function returns, see
<code class="docutils literal notranslate"><span class="pre">NpyString_release_allocators</span></code>.</p>
<p>Note that functions requiring the GIL should not be called while the
allocator mutex is held, as doing so may cause deadlocks.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.NpyString_release_allocator">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NpyString_release_allocator</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.npy_string_allocator" title="npy_string_allocator"><span class="n"><span class="pre">npy_string_allocator</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">allocator</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.NpyString_release_allocator" title="Link to this definition">#</a><br /></dt>
<dd><p>Release the mutex locking an allocator. This must be called exactly once
after acquiring the allocator mutex and all operations requiring the
allocator are done.</p>
<p>If you need to release multiple allocators, see
NpyString_release_allocators, which can correctly handle releasing the
allocator once when given several references to the same allocator.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.NpyString_release_allocators">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NpyString_release_allocators</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">length</span></span>, <a class="reference internal" href="#c.npy_string_allocator" title="npy_string_allocator"><span class="n"><span class="pre">npy_string_allocator</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">allocators</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.NpyString_release_allocators" title="Link to this definition">#</a><br /></dt>
<dd><p>Release the mutexes locking N allocators. <code class="docutils literal notranslate"><span class="pre">length</span></code> is the length of the
allocators array. NULL entries are ignored.</p>
<p>If pointers to the same allocator are passed multiple times, only releases
the allocator mutex once.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.NpyString_load">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NpyString_load</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.npy_string_allocator" title="npy_string_allocator"><span class="n"><span class="pre">npy_string_allocator</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">allocator</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#c.npy_packed_static_string" title="npy_packed_static_string"><span class="n"><span class="pre">npy_packed_static_string</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">packed_string</span></span>, <a class="reference internal" href="#c.npy_static_string" title="npy_static_string"><span class="n"><span class="pre">npy_static_string</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">unpacked_string</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.NpyString_load" title="Link to this definition">#</a><br /></dt>
<dd><p>Extract the packed contents of <code class="docutils literal notranslate"><span class="pre">packed_string</span></code> into <code class="docutils literal notranslate"><span class="pre">unpacked_string</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">unpacked_string</span></code> is a read-only view onto the <code class="docutils literal notranslate"><span class="pre">packed_string</span></code> data
and should not be used to modify the string data. If <code class="docutils literal notranslate"><span class="pre">packed_string</span></code> is
the null string, sets <code class="docutils literal notranslate"><span class="pre">unpacked_string.buf</span></code> to the NULL
pointer. Returns -1 if unpacking the string fails, returns 1 if
<code class="docutils literal notranslate"><span class="pre">packed_string</span></code> is the null string, and returns 0 otherwise.</p>
<p>A useful pattern is to define a stack-allocated npy_static_string instance
initialized to <code class="docutils literal notranslate"><span class="pre">{0,</span> <span class="pre">NULL}</span></code> and pass a pointer to the stack-allocated
unpacked string to this function.  This function can be used to
simultaneously unpack a string and determine if it is a null string.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.NpyString_pack_null">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NpyString_pack_null</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.npy_string_allocator" title="npy_string_allocator"><span class="n"><span class="pre">npy_string_allocator</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">allocator</span></span>, <a class="reference internal" href="#c.npy_packed_static_string" title="npy_packed_static_string"><span class="n"><span class="pre">npy_packed_static_string</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">packed_string</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.NpyString_pack_null" title="Link to this definition">#</a><br /></dt>
<dd><p>Pack the null string into <code class="docutils literal notranslate"><span class="pre">packed_string</span></code>. Returns 0 on success and -1 on
failure.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.NpyString_pack">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NpyString_pack</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.npy_string_allocator" title="npy_string_allocator"><span class="n"><span class="pre">npy_string_allocator</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">allocator</span></span>, <a class="reference internal" href="#c.npy_packed_static_string" title="npy_packed_static_string"><span class="n"><span class="pre">npy_packed_static_string</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">packed_string</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.NpyString_pack" title="Link to this definition">#</a><br /></dt>
<dd><p>Copy and pack the first <code class="docutils literal notranslate"><span class="pre">size</span></code> entries of the buffer pointed to by <code class="docutils literal notranslate"><span class="pre">buf</span></code>
into the <code class="docutils literal notranslate"><span class="pre">packed_string</span></code>. Returns 0 on success and -1 on failure.</p>
</dd></dl>

</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="generalized-ufuncs.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Generalized universal function API</p>
      </div>
    </a>
    <a class="right-next"
       href="coremath.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">NumPy core math library</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-a-string">Loading a String</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#packing-a-string">Packing a String</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#types">Types</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functions">Functions</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2008-2024, NumPy Developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>