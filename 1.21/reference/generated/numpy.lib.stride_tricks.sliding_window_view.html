
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>numpy.lib.stride_tricks.sliding_window_view &#8212; NumPy v1.21 Manual</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.f6b7ca918bee2f46fd9abac01cfb07d5.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1e043a052b0af929e4d8.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="numpy.lib.stride_tricks.as_strided" href="numpy.lib.stride_tricks.as_strided.html" />
    <link rel="prev" title="numpy.select" href="numpy.select.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
<link rel="stylesheet" href="../../_static/numpy.css" type="text/css" />

    <!-- PR #17220: This is added via javascript in versionwarning.js  -->
    <!-- link rel="canonical" href="http://numpy.org/doc/stable/reference/generated/numpy.lib.stride_tricks.sliding_window_view.html" / -->


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">


    
      
      <a class="navbar-brand" href="../../index.html">
        <img src="../../_static/numpylogo.svg" class="logo" alt="logo">
      </a>      
      
    

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    
    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../user/index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  API reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../dev/index.html">
  Development
 </a>
</li>

        
      </ul>

      <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/numpy/numpy" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/numpy_team" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l2">
  <a class="reference internal" href="../arrays.html">
   Array objects
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../constants.html">
   Constants
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../ufuncs.html">
   Universal functions (
   <code class="xref py py-class docutils literal notranslate">
    <span class="pre">
     ufunc
    </span>
   </code>
   )
  </a>
 </li>
 <li class="toctree-l2 current active">
  <a class="reference internal" href="../routines.html">
   Routines
  </a>
  <ul class="current">
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.array-creation.html">
     Array creation routines
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.array-manipulation.html">
     Array manipulation routines
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.bitwise.html">
     Binary operations
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.char.html">
     String operations
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.ctypeslib.html">
     C-Types Foreign Function Interface (
     <code class="xref py py-mod docutils literal notranslate">
      <span class="pre">
       numpy.ctypeslib
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.datetime.html">
     Datetime Support Functions
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.dtype.html">
     Data type routines
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.dual.html">
     Optionally SciPy-accelerated routines (
     <code class="xref py py-mod docutils literal notranslate">
      <span class="pre">
       numpy.dual
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.emath.html">
     Mathematical functions with automatic domain (
     <code class="xref py py-mod docutils literal notranslate">
      <span class="pre">
       numpy.emath
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.err.html">
     Floating point error handling
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.fft.html">
     Discrete Fourier Transform (
     <code class="xref py py-mod docutils literal notranslate">
      <span class="pre">
       numpy.fft
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.functional.html">
     Functional programming
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.help.html">
     NumPy-specific help functions
    </a>
   </li>
   <li class="toctree-l3 current active">
    <a class="reference internal" href="../routines.indexing.html">
     Indexing routines
    </a>
    <ul class="current">
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.c_.html">
       numpy.c_
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.r_.html">
       numpy.r_
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.s_.html">
       numpy.s_
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.nonzero.html">
       numpy.nonzero
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.where.html">
       numpy.where
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.indices.html">
       numpy.indices
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.ix_.html">
       numpy.ix_
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.ogrid.html">
       numpy.ogrid
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.ravel_multi_index.html">
       numpy.ravel_multi_index
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.unravel_index.html">
       numpy.unravel_index
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.diag_indices.html">
       numpy.diag_indices
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.diag_indices_from.html">
       numpy.diag_indices_from
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.mask_indices.html">
       numpy.mask_indices
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.tril_indices.html">
       numpy.tril_indices
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.tril_indices_from.html">
       numpy.tril_indices_from
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.triu_indices.html">
       numpy.triu_indices
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.triu_indices_from.html">
       numpy.triu_indices_from
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.take.html">
       numpy.take
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.take_along_axis.html">
       numpy.take_along_axis
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.choose.html">
       numpy.choose
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.compress.html">
       numpy.compress
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.diag.html">
       numpy.diag
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.diagonal.html">
       numpy.diagonal
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.select.html">
       numpy.select
      </a>
     </li>
     <li class="toctree-l4 current active">
      <a class="current reference internal" href="#">
       numpy.lib.stride_tricks.sliding_window_view
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.lib.stride_tricks.as_strided.html">
       numpy.lib.stride_tricks.as_strided
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.place.html">
       numpy.place
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.put.html">
       numpy.put
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.put_along_axis.html">
       numpy.put_along_axis
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.putmask.html">
       numpy.putmask
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.fill_diagonal.html">
       numpy.fill_diagonal
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.nditer.html">
       numpy.nditer
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.ndenumerate.html">
       numpy.ndenumerate
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.ndindex.html">
       numpy.ndindex
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.nested_iters.html">
       numpy.nested_iters
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.flatiter.html">
       numpy.flatiter
      </a>
     </li>
     <li class="toctree-l4">
      <a class="reference internal" href="numpy.lib.Arrayterator.html">
       numpy.lib.Arrayterator
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.io.html">
     Input and output
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.linalg.html">
     Linear algebra (
     <code class="xref py py-mod docutils literal notranslate">
      <span class="pre">
       numpy.linalg
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.logic.html">
     Logic functions
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.ma.html">
     Masked array operations
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.math.html">
     Mathematical functions
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.matlib.html">
     Matrix library (
     <code class="xref py py-mod docutils literal notranslate">
      <span class="pre">
       numpy.matlib
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.other.html">
     Miscellaneous routines
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.padding.html">
     Padding Arrays
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.polynomials.html">
     Polynomials
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../random/index.html">
     Random sampling (
     <code class="xref py py-mod docutils literal notranslate">
      <span class="pre">
       numpy.random
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.set.html">
     Set routines
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.sort.html">
     Sorting, searching, and counting
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.statistics.html">
     Statistics
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.testing.html">
     Test Support (
     <code class="xref py py-mod docutils literal notranslate">
      <span class="pre">
       numpy.testing
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="../routines.window.html">
     Window functions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../typing.html">
   Typing (
   <code class="xref py py-mod docutils literal notranslate">
    <span class="pre">
     numpy.typing
    </span>
   </code>
   )
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../global_state.html">
   Global State
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../distutils.html">
   Packaging (
   <code class="xref py py-mod docutils literal notranslate">
    <span class="pre">
     numpy.distutils
    </span>
   </code>
   )
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../distutils_guide.html">
   NumPy Distutils - Users Guide
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../c-api/index.html">
   NumPy C-API
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../internals.html">
   NumPy internals
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../simd/simd-optimizations.html">
   SIMD Optimizations
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../swig.html">
   NumPy and SWIG
  </a>
 </li>
</ul>
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              

<nav id="bd-toc-nav">
    
</nav>


              
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="numpy-lib-stride-tricks-sliding-window-view">
<h1>numpy.lib.stride_tricks.sliding_window_view<a class="headerlink" href="#numpy-lib-stride-tricks-sliding-window-view" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="numpy.lib.stride_tricks.sliding_window_view">
<span class="sig-prename descclassname"><span class="pre">lib.stride_tricks.</span></span><span class="sig-name descname"><span class="pre">sliding_window_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subok</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writeable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/numpy/numpy/blob/v1.21.0/numpy/lib/stride_tricks.py#L122-L336"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#numpy.lib.stride_tricks.sliding_window_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a sliding window view into the array with the given window shape.</p>
<p>Also known as rolling or moving window, the window slides across all
dimensions of the array and extracts subsets of the array at all window
positions.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.20.0.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x</strong><span class="classifier">array_like</span></dt><dd><p>Array to create the sliding window view from.</p>
</dd>
<dt><strong>window_shape</strong><span class="classifier">int or tuple of int</span></dt><dd><p>Size of window over each axis that takes part in the sliding window.
If <em class="xref py py-obj">axis</em> is not present, must have same length as the number of input
array dimensions. Single integers <em class="xref py py-obj">i</em> are treated as if they were the
tuple <em class="xref py py-obj">(i,)</em>.</p>
</dd>
<dt><strong>axis</strong><span class="classifier">int or tuple of int, optional</span></dt><dd><p>Axis or axes along which the sliding window is applied.
By default, the sliding window is applied to all axes and
<em class="xref py py-obj">window_shape[i]</em> will refer to axis <em class="xref py py-obj">i</em> of <em class="xref py py-obj">x</em>.
If <em class="xref py py-obj">axis</em> is given as a <em class="xref py py-obj">tuple of int</em>, <em class="xref py py-obj">window_shape[i]</em> will refer to
the axis <em class="xref py py-obj">axis[i]</em> of <em class="xref py py-obj">x</em>.
Single integers <em class="xref py py-obj">i</em> are treated as if they were the tuple <em class="xref py py-obj">(i,)</em>.</p>
</dd>
<dt><strong>subok</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, sub-classes will be passed-through, otherwise the returned
array will be forced to be a base-class array (default).</p>
</dd>
<dt><strong>writeable</strong><span class="classifier">bool, optional</span></dt><dd><p>When true, allow writing to the returned view. The default is false,
as this should be used with caution: the returned view contains the
same memory location multiple times, so writing to one location will
cause others to change.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>view</strong><span class="classifier">ndarray</span></dt><dd><p>Sliding window view of the array. The sliding window dimensions are
inserted at the end, and the original dimensions are trimmed as
required by the size of the sliding window.
That is, <code class="docutils literal notranslate"><span class="pre">view.shape</span> <span class="pre">=</span> <span class="pre">x_shape_trimmed</span> <span class="pre">+</span> <span class="pre">window_shape</span></code>, where
<code class="docutils literal notranslate"><span class="pre">x_shape_trimmed</span></code> is <code class="docutils literal notranslate"><span class="pre">x.shape</span></code> with every entry reduced by one less
than the corresponding window size.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="numpy.lib.stride_tricks.as_strided.html#numpy.lib.stride_tricks.as_strided" title="numpy.lib.stride_tricks.as_strided"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lib.stride_tricks.as_strided</span></code></a></dt><dd><p>A lower-level and less safe routine for creating arbitrary views from custom shape and strides.</p>
</dd>
<dt><a class="reference internal" href="numpy.broadcast_to.html#numpy.broadcast_to" title="numpy.broadcast_to"><code class="xref py py-obj docutils literal notranslate"><span class="pre">broadcast_to</span></code></a></dt><dd><p>broadcast an array to a given shape.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>For many applications using a sliding window view can be convenient, but
potentially very slow. Often specialized solutions exist, for example:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/reference/generated/scipy.signal.fftconvolve.html#scipy.signal.fftconvolve" title="(in SciPy v1.7.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.signal.fftconvolve</span></code></a></p></li>
<li><p>filtering functions in <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/reference/ndimage.html#module-scipy.ndimage" title="(in SciPy v1.7.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.ndimage</span></code></a></p></li>
<li><p>moving window functions provided by
<a class="reference external" href="https://github.com/pydata/bottleneck">bottleneck</a>.</p></li>
</ul>
<p>As a rough estimate, a sliding window approach with an input size of <em class="xref py py-obj">N</em>
and a window size of <em class="xref py py-obj">W</em> will scale as <em class="xref py py-obj">O(N*W)</em> where frequently a special
algorithm can achieve <em class="xref py py-obj">O(N)</em>. That means that the sliding window variant
for a window size of 100 can be a 100 times slower than a more specialized
version.</p>
<p>Nevertheless, for small window sizes, when no custom algorithm exists, or
as a prototyping and developing tool, this function can be a good solution.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(6,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">sliding_window_view</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(4, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span>
<span class="go">array([[0, 1, 2],</span>
<span class="go">       [1, 2, 3],</span>
<span class="go">       [2, 3, 4],</span>
<span class="go">       [3, 4, 5]])</span>
</pre></div>
</div>
<p>This also works in more dimensions, e.g.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ogrid</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="o">*</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(3, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">array([[ 0,  1,  2,  3],</span>
<span class="go">       [10, 11, 12, 13],</span>
<span class="go">       [20, 21, 22, 23]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">sliding_window_view</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(2, 3, 2, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span>
<span class="go">array([[[[ 0,  1],</span>
<span class="go">         [10, 11]],</span>
<span class="go">        [[ 1,  2],</span>
<span class="go">         [11, 12]],</span>
<span class="go">        [[ 2,  3],</span>
<span class="go">         [12, 13]]],</span>
<span class="go">       [[[10, 11],</span>
<span class="go">         [20, 21]],</span>
<span class="go">        [[11, 12],</span>
<span class="go">         [21, 22]],</span>
<span class="go">        [[12, 13],</span>
<span class="go">         [22, 23]]]])</span>
</pre></div>
</div>
<p>The axis can be specified explicitly:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">sliding_window_view</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 4, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span>
<span class="go">array([[[ 0, 10, 20],</span>
<span class="go">        [ 1, 11, 21],</span>
<span class="go">        [ 2, 12, 22],</span>
<span class="go">        [ 3, 13, 23]]])</span>
</pre></div>
</div>
<p>The same axis can be used several times. In that case, every use reduces
the corresponding original dimension:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">sliding_window_view</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(3, 1, 2, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span>
<span class="go">array([[[[ 0,  1,  2],</span>
<span class="go">         [ 1,  2,  3]]],</span>
<span class="go">       [[[10, 11, 12],</span>
<span class="go">         [11, 12, 13]]],</span>
<span class="go">       [[[20, 21, 22],</span>
<span class="go">         [21, 22, 23]]]])</span>
</pre></div>
</div>
<p>Combining with stepped slicing (<em class="xref py py-obj">::step</em>), this can be used to take sliding
views which skip elements:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sliding_window_view</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">5</span><span class="p">)[:,</span> <span class="p">::</span><span class="mi">2</span><span class="p">]</span>
<span class="go">array([[0, 2, 4],</span>
<span class="go">       [1, 3, 5],</span>
<span class="go">       [2, 4, 6]])</span>
</pre></div>
</div>
<p>or views which move by multiple elements</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sliding_window_view</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">)[::</span><span class="mi">2</span><span class="p">,</span> <span class="p">:]</span>
<span class="go">array([[0, 1, 2],</span>
<span class="go">       [2, 3, 4],</span>
<span class="go">       [4, 5, 6]])</span>
</pre></div>
</div>
<p>A common application of <a class="reference internal" href="#numpy.lib.stride_tricks.sliding_window_view" title="numpy.lib.stride_tricks.sliding_window_view"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sliding_window_view</span></code></a> is the calculation of running
statistics. The simplest example is the
<a class="reference external" href="https://en.wikipedia.org/wiki/Moving_average">moving average</a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(6,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">sliding_window_view</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(4, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span>
<span class="go">array([[0, 1, 2],</span>
<span class="go">       [1, 2, 3],</span>
<span class="go">       [2, 3, 4],</span>
<span class="go">       [3, 4, 5]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">moving_average</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">moving_average</span>
<span class="go">array([1., 2., 3., 4.])</span>
</pre></div>
</div>
<p>Note that a sliding window approach is often <strong>not</strong> optimal (see Notes).</p>
</dd></dl>

</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="numpy.select.html" title="previous page">numpy.select</a>
    <a class='right-next' id="next-link" href="numpy.lib.stride_tricks.as_strided.html" title="next page">numpy.lib.stride_tricks.as_strided</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.1e043a052b0af929e4d8.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2008-2021, The NumPy community.<br/>
        Last updated on Jun 22, 2021.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>